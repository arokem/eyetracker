
README FILE FOR PROCESSING EYE TRACKER DATA 
===========================================



1. Run "clear all; eyetrack_process.m"

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Program name: eyetrack_process.m
%
% Process EyeTracker Data file 
%
% This program processes eyetracker data file as follows.
%   1. Identifies the start and end of each scan.
%   2. Removes blink portions based on pupil height criteria 
%     provided percentage of blink segments < a certain threshold.
%       in some data, pupil height and aspect ratio are highly unreliable.
%   3. Runs a 2-pole IIR High pass Filter at cut-off frequency 0.025Hz to remove
%      slow drift due to head movements.
%   4. Runs a low pass filter with 7 Hz  cutoff frequency: FIR filter with order 42.
%       to cut off high frequency noise.
%   5. Performs Saccade detection. [200ms for saccade onset; 20-200ms
%   saccade duration assumed.]
%   6. Prints X,Y data to file along with blink/saccade information [
%    _scanInfo_ files]: set printFile=1 for this option.
%
% Entry Requirements:
%    Run "parse_eyetracker_data.m" on desired data file first and generate output
%    files with extension "_mod.mat" . Then run this program after specifying
%     name of the file in string "fileStr0" and setting other user options.
%     Then use "parse_eyetracker_outdata.m" to get an example of how to
%     scan output files with "_scanInfo" string generated by this program.
%
%    Run the program as follows: eyetrack_process(fileNum)
%      fileNum=0   => enter new input file name in variable "newFileStr"
%      fileNum=1   =>  input file name='cg_eyetrack_data_021810_mod.mat'
%      fileNum=2   =>  input file name='cg_eyetrack_data_021810_saccade_4.mat'
%                   saccades simulated
%      fileNum=3   =>  input file name='mas02142011_mod.mat'
%                       Pupil height and aspect ration are highly noisy
%                       hence blink detection unreliable
%      fileNum=4   =>  input file name='CG040710_mod.mat'
%                       aspect ratio noisy in some segments hence aspect
%                       ration not used for blink detection
%      fileNum=5   =>  input file name='rnd021810_mod.mat'                
%      fileNum=6   =>  input file name='rnd040710_mod.mat'
%           lots of adjacent blinks in some segments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

2. Run "parse_eyetracker_data.m" program after specifying
 new data filename in variable "fileStr". If file is already
parsed to a .mat file, no need to run this program.

All data files are in /dat subdirectory
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Program name: parse_eyetracker_data.m
%
%% Parse EyeTracker Data file 
%
% This program parses eyetracker data file, removes first 26 text lines
% and replaces sync pulse column with 0,1,2 and outputs a file which is
% used by program "eyetrack_process.m". 
%
% Entry Requirements:
%    Input file:  modify variable "fileStr" Example: fileStr='cg021810';
%    Output file: "fileStr" string appended with "_mod" string and mat file generated.
%           Example: output file: cg021810_mod.mat;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

3. "parse_eyetracker_outdata.m" provides an esample of how to 
scan output files printed by "eyetrack_process.m"

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Program name: parse_eyetracker_outdata.m
%
%% Parse EyeTracker Processed Output Data file 
%
% This program gives an example of how to scan the output files generated by
% program "eyetrack_process.m". Add your own data processing code
% afterwards.
%
% Entry Requirements:
%    Run "eyetrack_process.m" on desired data file first and generate output
%    files with _scanInfo_ strings. Then run this program after specifying
%     name of the file in string "fileStr0".
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


